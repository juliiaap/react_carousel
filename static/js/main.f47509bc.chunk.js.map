{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["gap","Carousel","intervalId","showNext","props","infinite","clearInterval","carousel","document","querySelector","scrollValue","itemWidth","step","scrollTo","left","Math","ceil","scrollLeft","behavior","showPrevious","scroll","e","currentTarget","scrollWidth","clientWidth","nextButton","prevButton","setTimeout","maxWidth","classList","add","remove","this","window","setInterval","animationDuration","prevProps","images","frameSize","containerWidth","className","style","width","onScroll","map","image","src","alt","type","name","onClick","React","Component","App","state","setStep","stepValue","setState","Number","value","setFrameSize","frameSizeValue","setItemWidth","itemWidthValue","setAnimationDuration","animationDurationValue","buttons","querySelectorAll","forEach","button","addEventListener","length","htmlFor","id","defaultValue","min","onChange","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f47509bc.chunk.js","sourcesContent":["import React from 'react';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n};\n\nconst gap = 10;\n\nclass Carousel extends React.Component<Props> {\n  intervalId = 0;\n\n  componentDidMount() {\n    this.intervalId = window.setInterval(() => {\n      this.showNext();\n    }, this.props.animationDuration);\n  }\n\n  componentDidUpdate(prevProps: Readonly<Props>) {\n    if (prevProps.animationDuration === this.props.animationDuration) {\n      return;\n    }\n\n    clearInterval(this.intervalId);\n\n    this.intervalId = window.setInterval(() => {\n      this.showNext();\n    }, this.props.animationDuration);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n  }\n\n  showNext = () => {\n    if (this.props.infinite) {\n      clearInterval(this.intervalId);\n    }\n\n    const carousel: HTMLUListElement | null\n      = document.querySelector('.Carousel__list');\n\n    if (!carousel) {\n      return;\n    }\n\n    const scrollValue = (this.props.itemWidth + gap) * this.props.step;\n\n    carousel.scrollTo({\n      left: Math.ceil(carousel.scrollLeft) + scrollValue,\n      behavior: 'smooth',\n    });\n  };\n\n  showPrevious = () => {\n    if (this.props.infinite) {\n      clearInterval(this.intervalId);\n    }\n\n    const carousel: HTMLUListElement | null\n      = document.querySelector('.Carousel__list');\n\n    if (!carousel) {\n      return;\n    }\n\n    const scrollValue = (this.props.itemWidth + gap) * this.props.step;\n\n    carousel.scrollTo({\n      left: Math.ceil(carousel.scrollLeft) - scrollValue,\n      behavior: 'smooth',\n    });\n  };\n\n  scroll = (e: React.UIEvent<HTMLUListElement, UIEvent>) => {\n    const {\n      scrollLeft,\n      scrollWidth,\n      clientWidth,\n    } = e.currentTarget;\n    const nextButton = document.querySelector('.Carousel__button--next');\n    const prevButton = document.querySelector('.Carousel__button--prev');\n\n    if (!this.props.infinite && Math.ceil(scrollLeft) === (scrollWidth\n      - clientWidth)) {\n      const carousel: HTMLUListElement | null\n        = document.querySelector('.Carousel__list');\n\n      if (!carousel) {\n        return;\n      }\n\n      setTimeout(() => {\n        carousel.scrollTo({\n          left: 0,\n          behavior: 'smooth',\n        });\n      }, 2000);\n    }\n\n    const maxWidth = (scrollWidth - clientWidth);\n\n    switch (Math.ceil(scrollLeft)) {\n      case maxWidth:\n        nextButton?.classList.add('disabled');\n        break;\n\n      case 0:\n        prevButton?.classList.add('disabled');\n        break;\n\n      default:\n        nextButton?.classList.remove('disabled');\n        prevButton?.classList.remove('disabled');\n        break;\n    }\n  };\n\n  render() {\n    const {\n      images,\n      frameSize,\n      itemWidth,\n    } = this.props;\n    const containerWidth = frameSize * (itemWidth + gap) - gap;\n\n    return (\n      <div className=\"Carousel\">\n        <ul\n          className=\"Carousel__list\"\n          style={{ width: `${containerWidth}px` }}\n          onScroll={this.scroll}\n        >\n          {images.map((image) => (\n            <li className=\"Carousel__item\" key={image}>\n              <img\n                src={image}\n                alt={image}\n                className=\"Carousel__image\"\n                width={itemWidth}\n              />\n            </li>\n          ))}\n        </ul>\n\n        <div className=\"Carousel__buttons-container\">\n          <button\n            type=\"button\"\n            name=\"Prev\"\n            onClick={this.showPrevious}\n            className=\"Carousel__button Carousel__button--prev disabled\"\n          >\n            Prev\n          </button>\n          <button\n            type=\"button\"\n            name=\"Next\"\n            onClick={this.showNext}\n            className=\"Carousel__button Carousel__button--next\"\n            data-cy=\"next\"\n          >\n            Next\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\ninterface State {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n}\n\nclass App extends React.Component<{}, State> {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n    step: 3,\n    frameSize: 3,\n    itemWidth: 130,\n    animationDuration: 1000,\n    infinite: false,\n  };\n\n  componentDidMount() {\n    const buttons: NodeListOf<HTMLButtonElement> | []\n      = document.querySelectorAll('.Carousel__button');\n\n    if (!buttons) {\n      return;\n    }\n\n    buttons.forEach(button => button.addEventListener('click', () => {\n      this.setState({ infinite: true });\n    }));\n  }\n\n  setStep = () => {\n    const stepValue: HTMLInputElement | null\n      = document.querySelector('#stepId');\n\n    if (!stepValue) {\n      return;\n    }\n\n    this.setState({ step: Number(stepValue.value) });\n  };\n\n  setFrameSize = () => {\n    const frameSizeValue: HTMLInputElement | null\n      = document.querySelector('#frameId');\n\n    if (!frameSizeValue) {\n      return;\n    }\n\n    this.setState({ frameSize: Number(frameSizeValue.value) });\n  };\n\n  setItemWidth = () => {\n    const itemWidthValue: HTMLInputElement | null\n      = document.querySelector('#itemId');\n\n    if (!itemWidthValue) {\n      return;\n    }\n\n    this.setState({ itemWidth: Number(itemWidthValue.value) });\n  };\n\n  setAnimationDuration = () => {\n    const animationDurationValue: HTMLInputElement | null\n      = document.querySelector('#AnimationDuration');\n\n    if (!animationDurationValue) {\n      return;\n    }\n\n    this.setState({ animationDuration: Number(animationDurationValue.value) });\n  };\n\n  render() {\n    const {\n      images,\n      step,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1 data-cy=\"title\">\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <div className=\"App__inputs\">\n          <label htmlFor=\"itemId\">ItemWidth: </label>\n          <input\n            type=\"number\"\n            name=\"ItemWidth\"\n            id=\"itemId\"\n            defaultValue={130}\n            min=\"1\"\n            className=\"App__item\"\n            onChange={this.setItemWidth}\n          />\n          <label htmlFor=\"frameId\">FrameSize: </label>\n          <input\n            type=\"number\"\n            name=\"FrameSize\"\n            id=\"frameId\"\n            min=\"1\"\n            defaultValue={3}\n            className=\"App__item\"\n            onChange={this.setFrameSize}\n          />\n          <label htmlFor=\"stepId\">Step: </label>\n          <input\n            type=\"number\"\n            name=\"Step\"\n            id=\"stepId\"\n            min=\"1\"\n            defaultValue={3}\n            className=\"App__item\"\n            onChange={this.setStep}\n          />\n          <label htmlFor=\"AnimationDuration\">AnimationDuration: </label>\n          <input\n            type=\"number\"\n            name=\"AnimationDuration\"\n            id=\"AnimationDuration\"\n            defaultValue={1000}\n            className=\"App__item\"\n            onChange={this.setAnimationDuration}\n          />\n        </div>\n\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          infinite={infinite}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}